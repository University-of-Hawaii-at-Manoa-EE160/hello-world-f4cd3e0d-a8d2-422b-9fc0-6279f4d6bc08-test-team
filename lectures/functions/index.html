---
layout: default
title: Lecture 15
---

<div class="lecture">
  <ul class="outline">
    <li class="item">
      <h2 class="headline">Functions</h2>
      <div class="content">
        <div class="point">
          <p class="topic">What is a function?:</p>
          <ul class="details">
            <li>a function is a group of code that takes in some arguments (inputs) and returns a value (output)</li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">Why is a function important?:</p>
          <ul class="details">
            <li>you can reuse code</li>
            <li>you can update a function and everywhere that calls the function will get the updated code</li>
            <li>you can give a group of code a name to express what the group of code is trying to do</li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">When is a good time to utilize functions?:</p>
          <ul class="details">
            <li>whenever you find yourself copy and pasting code</li>
            <li>whenever you find yourself wanting to add a comment to explain what a section of code is doing
              <ul>
                <li>comments are notes to yourself and other programmers within the code</li>
                <li>like Post-It notes on a word document</li>
                <li>example usage:
                  <ul>
                    <li><code>// single line comment</code></li>
                    <li>
<pre>/* multi-line comment: line 1
multi-line comment: line2 */</pre>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">How to utilize functions?:</p>
          <ul class="details">
            <li>define a function</li>
            <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/function_definition.syntax"></script>
            <li>call a function</li>
            <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/function_call.syntax"></script>
            <li>read more at <a href="http://www.mycplus.com/tutorials/c-programming-tutorials/functions/">http://www.mycplus.com/tutorials/c-programming-tutorials/functions/</a></li>
            <li>read more at <a href="http://en.wikibooks.org/wiki/C_Programming/Procedures_and_functions">http://en.wikibooks.org/wiki/C_Programming/Procedures_and_functions</a>; it's a long read but contains a lot of useful information</li>
            <li>read more at <a href="http://www.tutorialspoint.com/ansi_c/c_using_functions.htm">http://www.tutorialspoint.com/ansi_c/c_using_functions.htm</a>; it's a long read but contains a lot of useful information</li>
          </ul>
        </div>
        <div class="point">
          <p class="topic">An example program (<em class="file well well-small">functions.c</em>) that uses a function:</p>
          <ul class="details">
            <li>source code:<br/><script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/functions.c"></script></li>
            <li>output:<br/>
<pre>Hi from main
-Hi from simple_function
-You passed in an argument with the value of 1
Bye from main
-Hi from simple_function
-You passed in an argument with the value of 2</pre>
            </li>
            <li>things to note:
              <ul>
                <li><code>simple_function</code> is used in multiple places</li>
                <li><code>simple_function</code> produced different outputs based on its inputs</li>
                <li><code>simple_function</code> returns a value that can be used by the program later on</li>
                <li><code>simple_function</code>'s returned value does not always need to be used</li>
                <li><code>main</code> is shorter and less cluttered; <a href="https://github.com/zhaol/ee160/blob/gh-pages/code/functions/cluttered_functions.c">compare</a> for yourself</li>
                <li>changes can be made in one place later on if things change</li>
              </ul>
            </li>
          </ul>
        </div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Scope</h2>
      <div class="content">
        <div>
          <p>What is scope?:</p>
          <ul>
            <li>scope refers to how and when an identifier (e.g. variables and functions) is accessible</li>
            <li>read more at <a href="http://icecube.wisc.edu/~dglo/c_class/scope.html">http://icecube.wisc.edu/~dglo/c_class/scope.html</a></li>
            <li>read more at <a href="http://www.tutorialspoint.com/cprogramming/c_scope_rules.htm">http://www.tutorialspoint.com/cprogramming/c_scope_rules.htm</a></li>
          </ul>
        </div>
        <div>
          <p>Why is scope important?:</p>
          <ul>
            <li>you and the program has a predefined way to mitigate naming collisions (i.e. calling a variable whose name is used to define variables in multiple places)</li>
            <li>isolates variables and functions that should not be accessible, reducing the chance of unknowingly referring to a variable or function in some distant part of the program</li>
          </ul>
        </div>
        <div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Example Program to Illustrate the Effects of Scope</h2>
      <div class="content">
        <div>
          <p><em class="file well well-small">scope.c</em>:</p>
          <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/scope/scope.c"></script>
          <p>output:</p>
<pre>[Start of Main]    int_var: 20 
[Start of Main] double_var: 20.000000 
[Start of function1]              int_var: 30 
[Start of function1]           double_var: 30.000000 
[Start of function1]    passed_in_int_var: 21 
[Start of function1] passed_in_double_var: 21.000000 
[End of function1]              int_var: 35 
[End of function1]           double_var: 35.000000 
[End of function1]    passed_in_int_var: 26 
[End of function1] passed_in_double_var: 26.000000 
[Inside function2]              int_var: 40 
[Inside function2]           double_var: 40.000000 
[End of Main]    int_var: 21 
[End of Main] double_var: 21.000000</pre>
        </div>
        <div>
          <p>Things to Note:</p>
          <ul>
            <li>the more "local" variable "overrides" the more "global" variable</li>
            <li>if there's no local variable the C language will search in outer function until it reaches the global layer; other languages might not do this</li>
            <li>use of global variables should be avoided; other functions might change the variable value unexpected and will cause bugs that are hard to debug</li>
            <li>if you use global variables, try to store only values that is set at the beginning of the program and never modified afterwards (there's always exceptions to guidelines)</li>
            <li>function1 uses the value of the arguments; the actual variable is unaltered (to alter the actual variable, pass pointers to the function; more on this later)</li>
          </ul>
        </div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Assignment</h2>
      <div class="content">
        <p>rewrite <em class="file well well-small">summer.c</em></p>
        <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/summer/summer.c"></script>
        <ul>
          <li>move <a href="https://github.com/zhaol/ee160/blob/gh-pages/code/summer/summer.c#L12-16">lines 12-16</a> into a function</li>
          <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/functions/summer.snippet"></script>
          <li>the program should work the same as before:
            <ul>
              <li>asks the user for a number 3 times</li>
              <li>for the 3rd number the user is asked for the number with a different statement</li>
              <li>the program then outputs the sum of the 3 numbers</li>  
            </ul>
          </li>
        </ul>
        <p>modify <em class="file well well-small">scope.c</em> to have <code>function2</code> called within <code>function1</code> and see how scope affects the output of the program</p>
        <p>modify <em class="file well well-small">scope.c</em> to have <code>function2</code> (with the function2 local variables removed) called within <code>function1</code> and see how scope affects the output of the program</p>
      </div>
    </li>
  </ul>
</div>