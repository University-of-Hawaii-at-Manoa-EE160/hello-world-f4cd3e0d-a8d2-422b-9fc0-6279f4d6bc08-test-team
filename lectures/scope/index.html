---
layout: default
title: Lecture 14
---

<div class="lecture">
  <ul class="outline">
    <li class="item">
      <h2 class="headline">Scope</h2>
      <div class="content">
        <div>
          <p>What is scope?:</p>
          <ul>
            <li>scope refers to how and when an identifier (e.g. variables and functions) is accessible</li>
            <li>read more at <a href="http://icecube.wisc.edu/~dglo/c_class/scope.html">http://icecube.wisc.edu/~dglo/c_class/scope.html</a></li>
            <li>read more at <a href="http://www.tutorialspoint.com/cprogramming/c_scope_rules.htm">http://www.tutorialspoint.com/cprogramming/c_scope_rules.htm</a></li>
          </ul>
        </div>
        <div>
          <p>Why is scope important?:</p>
          <ul>
            <li>you and the program has a predefined way to mitigate naming collisions (i.e. calling a variable whose name is used to define variables in multiple places)</li>
            <li>isolates variables and functions that should not be accessible, reducing the chance of unknowingly referring to a variable or function in some distant part of the program</li>
          </ul>
        </div>
        <div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Example Program to Illustrate the Effects of Scope</h2>
      <div class="content">
        <div>
          <p><em class="file well well-small">scope.c</em>:</p>
          <script src="http://gist-it.appspot.com/https://github.com/zhaol/ee160/blob/gh-pages/code/scope/scope.c"></script>
          <p>output:</p>
<pre>[Start of Main]    int_var: 20 
[Start of Main] double_var: 20.000000 
[Start of function1]              int_var: 30 
[Start of function1]           double_var: 30.000000 
[Start of function1]    passed_in_int_var: 21 
[Start of function1] passed_in_double_var: 21.000000 
[End of function1]              int_var: 35 
[End of function1]           double_var: 35.000000 
[End of function1]    passed_in_int_var: 26 
[End of function1] passed_in_double_var: 26.000000 
[Inside function2]              int_var: 40 
[Inside function2]           double_var: 40.000000 
[End of Main]    int_var: 21 
[End of Main] double_var: 21.000000</pre>
        </div>
        <div>
          <p>Things to Note:</p>
          <ul>
            <li>the more "local" variable "overrides" the more "global" variable</li>
            <li>if there's no local variable the C language will search in outer function until it reaches the global layer; other languages might not do this</li>
            <li>use of global variables should be avoided; other functions might change the variable value unexpected and will cause bugs that are hard to debug</li>
            <li>if you use global variables, try to store only values that is set at the beginning of the program and never modified afterwards (there's always exceptions to guidelines)</li>
            <li>function1 uses the value of the arguments; the actual variable is unaltered (to alter the actual variable, pass pointers to the function; more on this later)</li>
          </ul>
        </div>
      </div>
    </li>  
    <li class="item">
      <h2 class="headline">Assignment</h2>
      <div class="content">
        <p>modify <em class="file well well-small">scope.c</em> to have <code>function2</code> called within <code>function1</code> and see how scope affects the output of the program</p>
        <p>modify <em class="file well well-small">scope.c</em> to have <code>function2</code> (with the function2 local variables removed) called within <code>function1</code> and see how scope affects the output of the program</p>
      </div>
    </li>
  </ul>
</div>